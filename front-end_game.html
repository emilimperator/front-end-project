<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  </head>
  <body id="game-body">
    <div id="game-area">
        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" viewBox="0 0 16 16" style="transform: translate(715px, -40px);" id="udan">
            <path d="M2 16a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2zm6.5-4.5V5.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 5.707V11.5a.5.5 0 0 0 1 0"/>
        </svg>
        <p id="p_say" style="font-size: 30px; margin-left: 600px; margin-top: 20px; display: inline-block;">0</p>
        <p id="p_say2" style="font-size: 30px; display: inline-block; margin-left: 150px;">0</p>
        <svg xmlns="http://www.w3.org/2000/svg" width="150" height="150" fill="skyblue" class="cloud" viewBox="0 0 16 16" style="transform: translate(200px, 25px); position:relative">
            <path d="M4.406 3.342A5.53 5.53 0 0 1 8 2c2.69 0 4.923 2 5.166 4.579C14.758 6.804 16 8.137 16 9.773 16 11.569 14.502 13 12.687 13H3.781C1.708 13 0 11.366 0 9.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383"/>
        </svg>
        <svg xmlns="http://www.w3.org/2000/svg" width="150" height="150" fill="skyblue" class="cloud" viewBox="0 0 16 16" style="transform: translate(-700px, 25px); position:relative">
            <path d="M4.406 3.342A5.53 5.53 0 0 1 8 2c2.69 0 4.923 2 5.166 4.579C14.758 6.804 16 8.137 16 9.773 16 11.569 14.502 13 12.687 13H3.781C1.708 13 0 11.366 0 9.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383"/>
        </svg>
        <br>
        <p id="win" style="font-size: 50px; margin-left: 590px;"></p>
        <br>
        <br>
        <br>
        <div id="div1" style="width: 80px; height: 80px; background-color: crimson; border-radius: 50%; position: absolute;"></div>
        <div id="div2" style="width: 80px; height: 80px; background-color: yellowgreen; border-radius: 50%; position: absolute; transform: translate(1370px, 0px);"></div>
        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="yellowgreen" class="yeyilenler" viewBox="0 0 16 16" style="transform: translate(1085px, 20px);" id="yasil">
            <circle cx="8" cy="8" r="8"/>
        </svg>
        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="skyblue" class="yeyilenler" viewBox="0 0 16 16" style="transform: translate(685px, 20px);" id="goy">
            <circle cx="8" cy="8" r="8"/>
        </svg>
        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="crimson" class="yeyilenler" viewBox="0 0 16 16" style="transform: translate(285px, 20px);" id="qirmizi">
            <circle cx="8" cy="8" r="8"/>
        </svg>
        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="violet" class="yeyilenler" viewBox="0 0 16 16" style="transform: translate(445px, 100px);" id="benovseyi">
            <circle cx="8" cy="8" r="8"/>
        </svg>
        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="orange" class="yeyilenler" viewBox="0 0 16 16" style="transform: translate(780px, 100px);" id="narinci">
            <circle cx="8" cy="8" r="8"/>
        </svg>
    </div>
    <style>
    #game-area {
        width: 100%;
        height: 700px;
        border: 5px solid black;
        margin-top: 20px;
        position: relative;
        background-color: aliceblue;
    }
    #game-body{
        position: relative;
        width: 100%;
        height: 100%;
        transition-duration: 0.4s;
    }
    #udan{
        transition-duration: 0.4s;
    }
    div{
        transition-duration: 0.4s;
    }
    .win-effect {
        animation: win-animation 2s forwards;
        animation-iteration-count: infinite;
    }
    .loser {
        animation: loser 2s forwards;
        animation-iteration-count: 1;
    }

    .gorightmid{
        animation: go_right_mid 1s forwards;
        animation-iteration-count: 1;
    }
    .goleftmid{
        animation: go_left_mid 1s forwards;
        animation-iteration-count: 1;
    }
    .gorightfromleft{
        animation: go_right_from_left 1s forwards;
        animation-iteration-count: 1;
    }
    .goleftfromright{
        animation: go_left_from_right 1s forwards;
        animation-iteration-count: 1;
    }

    /* _____________________________ */

    @keyframes win-animation {
        0% {
          opacity: 1;
        }
        50% {
          opacity: 0;
        }
        100% {
          opacity: 1;
        }
    }
    @keyframes loser{
        0% {
            transform: translateY(0px);
            opacity: 1;
        }
        100% {
            transform: translateY(500px);
            opacity: 0;
        }
    }

    /* ___________________________ */

    @keyframes go_right_mid{
        0% {
            transform: translate(715px, -40px);
            opacity: 0;
        }
        100% {
            transform: translate(800px, -40px);
            opacity: 1;
        }
    }
    @keyframes go_left_mid{
        0% {
            transform: translate(715px, -40px);
            opacity: 0;
        }
        100% {
            transform: translate(630px, -40px);
            opacity: 1;
        }
    }
    @keyframes go_left_from_right{
        0% {
            transform: translate(800px, -40px);
            opacity: 0;
        }
        100% {
            transform: translate(630px, -40px);
            opacity: 1;
        }
    }
    @keyframes go_right_from_left{
        0% {
            transform: translate(630px, -40px);
            opacity: 0;
        }
        100% {
            transform: translate(800px, -40px);
            opacity: 1;
        }
    }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script>
        const div1 = document.getElementById('div1');
        const div2 = document.getElementById('div2');
        const p_say = document.getElementById('p_say');
        const p_say2 = document.getElementById('p_say2');
        const win = document.getElementById('win');
        const game_body = document.getElementById('game-body');
        const udan_svg = document.getElementById('udan');
        const game_area=document.getElementById('game-area');

        let X = 0;
        let Y = 0;
        let qeder = 0;

        let X2 = 1390;
        let Y2 = 0;
        let qeder2 = 0;

        let say = 0;
        let say2 = 0;

        let boyume = 80;
        let boyume2 = 80;

        let yer_deyismeX = 1300;
        let yer_deyismeY = 550 / 2;

        function check() {
            if (say < say2) {
                game_body.style.backgroundColor = 'yellowgreen';
                udan_svg.setAttribute('fill', 'yellowgreen');
                if (udan_svg.classList.length == 0) {
                    udan_svg.classList.add('gorightmid');
                } else {
                    if (udan_svg.classList.contains('goleftmid')) {
                        udan_svg.classList.remove('goleftmid');
                        udan_svg.classList.add('gorightmid');
                    } else if (udan_svg.classList.contains('goleftfromright')) {
                        udan_svg.classList.remove('goleftfromright');
                        udan_svg.classList.add('gorightmid');
                    } else if (udan_svg.classList.contains('gorightfromleft')) {
                        udan_svg.classList.remove('gorightfromleft');
                        udan_svg.classList.add('gorightmid');
                    }
                }
            } else if (say2 < say) {
                game_body.style.backgroundColor = 'crimson';
                udan_svg.setAttribute('fill', 'crimson');
                if (udan_svg.classList.length == 0) {
                    udan_svg.classList.add('goleftmid');
                } else {
                    if (udan_svg.classList.contains('gorightmid')) {
                        udan_svg.classList.remove('gorightmid');
                        udan_svg.classList.add('goleftmid');
                    } else if (udan_svg.classList.contains('gorightfromleft')) {
                        udan_svg.classList.remove('gorightfromleft');
                        udan_svg.classList.add('goleftmid');
                    } else if (udan_svg.classList.contains('goleftfromright')) {
                        udan_svg.classList.remove('goleftfromright');
                        udan_svg.classList.add('goleftmid');
                    }
                }
            } else {
                udan_svg.setAttribute('fill', 'currentColor');
                game_body.style.backgroundColor = 'aliceblue';
                if (udan_svg.classList.contains('gorightmid')) {
                    udan_svg.classList.remove('gorightmid');
                } else if (udan_svg.classList.contains('goleftmid')) {
                    udan_svg.classList.remove('goleftmid');
                } else if (udan_svg.classList.contains('gorightfromleft')) {
                    udan_svg.classList.remove('gorightfromleft');
                } else if (udan_svg.classList.contains('goleftfromright')) {
                    udan_svg.classList.remove('goleftfromright');
                }
            }
        }


        function random_int(max) {
            return Math.floor(Math.random() * max);
        }

        function colliding() {
            const divv = div1.getBoundingClientRect();
            const pler = document.querySelectorAll('.yeyilenler');
            pler.forEach((p) => {
                let pp = p.getBoundingClientRect();
                if (!(divv.left > pp.right || divv.right < pp.left || divv.top > pp.bottom || divv.bottom < pp.top)) {
                    say +=1;
                    boyume+= 5;
                    qeder += 1;
                    p_say.innerHTML = `${say}`;
                    div1.style.width = `${boyume}px`;
                    div1.style.height = `${boyume}px`;
                    p.style.transform = `translate(${random_int(yer_deyismeX)}px, ${random_int(yer_deyismeY)}px)`;
                    check();
                }
            });
        }

        function colliding2() {
            const divv2 = div2.getBoundingClientRect();
            const pler = document.querySelectorAll('.yeyilenler');
            pler.forEach((p) => {
                let pp = p.getBoundingClientRect();
                if (!(divv2.left > pp.right || divv2.right < pp.left || divv2.top > pp.bottom || divv2.bottom < pp.top)) {
                    say2 += 1;
                    boyume2 += 5;
                    qeder2 += 1;
                    p_say2.innerHTML = `${say2}`;
                    div2.style.width = `${boyume2}px`;
                    div2.style.height = `${boyume2}px`;
                    p.style.transform = `translate(${random_int(yer_deyismeX)}px, ${random_int(yer_deyismeY)}px)`;
                    check();
                }
            });
        }

        function colliding_divs() {
            const divv = div1.getBoundingClientRect();
            const divv2 = div2.getBoundingClientRect();
            if (!(divv.left > divv2.right || divv.right < divv2.left || divv.top > divv2.bottom || divv.bottom < divv2.top)) {
                if (divv.width < divv2.width) {
                    game_body.classList.add('win-effect');
                    div1.classList.add('loser');
                    div1.style.position='absolute';
                    win.innerHTML = 'Player 2 Won';
                    const button1=document.createElement('button');
                    button1.style.backgroundColor='yellowgreen';
                    button1.style.width='150px'
                    button1.style.height='40px';
                    button1.innerHTML='Restart game';
                    button1.style.color='white';
                    button1.style.padding='10 10';
                    button1.style.transform='translate(480px, 330px)';
                    button1.style.borderRadius='8px';
                    button1.style.transitionDuration='0.4s';
                    button1.style.border='0px solid black';
                    button1.onclick=function(){
                        
                        X = 0;
                        Y = 0;
                        X2 = 1390;
                        Y2 = 0;

                        qeder = 0;
                        qeder2 = 0;

                        say = 0;
                        say2 = 0;

                        boyume = 80;
                        boyume2 = 80;

                        yer_deyismeX = 1300;
                        yer_deyismeY = 550 / 2;

                        const yasil=document.getElementById('yasil');
                        const goy=document.getElementById('goy');
                        const qirmizi=document.getElementById('qirmizi');
                        const benovseyi=document.getElementById('benovseyi');
                        const narinci=document.getElementById('narinci');

                        yasil.style.transform='translate(1085px, 20px)';
                        goy.style.transform='translate(685px, 20px)';
                        qirmizi.style.transform='translate(285px, 20px)';
                        benovseyi.style.transform='translate(445px, 100px)';
                        narinci.style.transform='translate(780px, 100px)';

                        div1.style.transform='translate(0px, 0px)';
                        div2.style.transform='translate(1370px, 0px)';
                        div1.style.width='80px';
                        div1.style.height='80px';
                        div2.style.width='80px';
                        div2.style.height='80px';

                        div1.classList.remove('loser');
                        game_body.classList.remove('win-effect');
                        game_body.style.backgroundColor='white';
                        p_say.innerHTML='0';
                        p_say2.innerHTML='0';
                        win.innerHTML = '';
                        check();
                        button1.remove();
                    }
                    game_area.appendChild(button1);
                }
                else {
                    game_body.classList.add('win-effect');
                    div2.classList.add('loser');
                    div2.style.position='absolute';
                    win.innerHTML = 'Player 1 Won';
                    const button1=document.createElement('button');
                    button1.style.backgroundColor='crimson';
                    button1.style.width='150px'
                    button1.style.height='40px';
                    button1.innerHTML='Restart game';
                    button1.style.color='white';
                    button1.style.padding='10 10';
                    button1.style.transform='translate(480px, 330px)';
                    button1.style.borderRadius='8px';
                    button1.style.transitionDuration='0.4s';
                    button1.style.border='0px solid black';
                    button1.onclick=function(){
                        
                        X = 0;
                        Y = 0;
                        X2 = 1390;
                        Y2 = 0;

                        qeder = 0;
                        qeder2 = 0;

                        say = 0;
                        say2 = 0;

                        boyume = 80;
                        boyume2 = 80;

                        yer_deyismeX = 1300;
                        yer_deyismeY = 550 / 2;

                        const yasil=document.getElementById('yasil');
                        const goy=document.getElementById('goy');
                        const qirmizi=document.getElementById('qirmizi');
                        const benovseyi=document.getElementById('benovseyi');
                        const narinci=document.getElementById('narinci');

                        yasil.style.transform='translate(1085px, 20px)';
                        goy.style.transform='translate(685px, 20px)';
                        qirmizi.style.transform='translate(285px, 20px)';
                        benovseyi.style.transform='translate(445px, 100px)';
                        narinci.style.transform='translate(780px, 100px)';

                        div1.style.transform='translate(0px, 0px)';
                        div2.style.transform='translate(1370px, 0px)';
                        div1.style.width='80px';
                        div1.style.height='80px';
                        div2.style.width='80px';
                        div2.style.height='80px';

                        div2.classList.remove('loser');
                        game_body.classList.remove('win-effect');
                        game_body.style.backgroundColor='white';
                        p_say.innerHTML='0';
                        p_say2.innerHTML='0';
                        win.innerHTML = '';
                        check();
                        button1.remove();
                    }
                    game_area.appendChild(button1);
                }
            }
        }

        document.addEventListener('keydown', (event) => {
            // if (["ArrowUp", "ArrowDown", "ArrowLeft", "ArrowRight", "w", "a", "s", "d"].includes(event.key)) {
            //     event.preventDefault();
            // }

            function update() {

                div1.style.transform = `translate(${X}px, ${Y}px)`;
                colliding();
                colliding_divs();
            }

            function update2() {
                div2.style.transform = `translate(${X2}px, ${Y2}px)`;
                colliding2();
                colliding_divs();
            }

            let hereket = 20;
            let hereket2 = 20;

            if (event.key === 'w') {
                Y -= hereket + qeder;
                update();
            }
            if (event.key === 's') {
                Y += hereket + qeder;
                update();
            }
            if (event.key === 'a') {
                X -= hereket + qeder;
                update();
            }
            if (event.key === 'd') {
                X += hereket + qeder;
                update();
            }

            // _____________________

            if (event.key === 'ArrowUp') {
                Y2 -= hereket2 + qeder2;
                update2();
            }
            if (event.key === 'ArrowDown') {
                Y2 +=hereket2 + qeder2;
                update2();
            }
            if (event.key === 'ArrowLeft') {
                X2 -= hereket2 + qeder2;
                update2();
            }
            if (event.key === 'ArrowRight') {
                X2 += hereket2 + qeder2;
                update2();
            }
        });


    </script>
  </body>
</html>